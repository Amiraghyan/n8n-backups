{
  "active": false,
  "connections": {
    "Format Job Fields": {
      "main": [
        [
          {
            "node": "Log Jobs to Google Sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Summary Output": {
      "ai_outputParser": [
        [
          {
            "node": "Summarize Job Listings",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Job Summarizer": {
      "ai_languageModel": [
        [
          {
            "node": "Summarize Job Listings",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Summarize Job Listings": {
      "main": [
        [
          {
            "node": "Send Job Summary Email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Daily Upwork Job Trigger": {
      "main": [
        [
          {
            "node": "Fetch Upwork Jobs (Apify)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Log Jobs to Google Sheet": {
      "main": [
        [
          {
            "node": "Summarize Job Listings",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Upwork Jobs (Apify)": {
      "main": [
        [
          {
            "node": "Format Job Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‚ÄòExecute workflow‚Äô": {
      "main": [
        [
          {
            "node": "Fetch Upwork Jobs (Apify)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-07-24T15:34:43.967Z",
  "id": "ml3Vri4UDvFjzqbW",
  "isArchived": false,
  "meta": {
    "templateId": "4793"
  },
  "name": "Upwork Job Aggregator with OpenAI Summaries & Multi-channel Notifications",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 9
            }
          ]
        }
      },
      "id": "834d0a42-1398-4cd4-aaf3-b1164e00b4a8",
      "name": "Daily Upwork Job Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        1904,
        800
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.apify.com/v2/actor-tasks/<YOUR_TASK_ID>/run-sync-get-dataset-items?token=<YOUR_API_TOKEN>",
        "options": {}
      },
      "id": "a0d54dfe-fc68-4020-b2ed-d191a57d5897",
      "name": "Fetch Upwork Jobs (Apify)",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2128,
        800
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "24bd782a-a34f-4b98-8d8f-21763181677b",
              "name": "title",
              "type": "string",
              "value": "={{ $json.title }}"
            },
            {
              "id": "ee879b3d-339a-44c2-9e11-f653edab2e7f",
              "name": "url",
              "type": "string",
              "value": "={{ $json.url }}"
            },
            {
              "id": "b5ff7975-667b-4997-ac8f-acbe9a3b3b85",
              "name": "description",
              "type": "string",
              "value": "={{ $json.description }}"
            },
            {
              "id": "29051fc3-e4f8-4e39-a024-d7b943271acc",
              "name": "budget",
              "type": "string",
              "value": "={{ $json.budget }}"
            },
            {
              "id": "a6492128-a58a-4735-b427-12265f81da3a",
              "name": "datePosted",
              "type": "string",
              "value": "={{ $json.datePosted }}"
            }
          ]
        },
        "options": {}
      },
      "id": "a9812fc7-0fa5-492a-91aa-392d0c8ee43b",
      "name": "Format Job Fields",
      "type": "n8n-nodes-base.set",
      "position": [
        2352,
        800
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "1dEU6uMB4ehiGXjIExjtFQHvUjANRODawKMBGKDaTcEc",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1dEU6uMB4ehiGXjIExjtFQHvUjANRODawKMBGKDaTcEc/edit?usp=drivesdk",
          "cachedResultName": "Upwork Scraper"
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1dEU6uMB4ehiGXjIExjtFQHvUjANRODawKMBGKDaTcEc/edit#gid=0",
          "cachedResultName": "Sheet1"
        },
        "columns": {
          "value": {
            "url": "={{ $json.url }}",
            "title": "={{ $json.title }}",
            "budget": "={{ $json.budget }}",
            "datePosted": "={{ $json.datePosted }}",
            "description": "={{ $json.description }}"
          },
          "schema": [
            {
              "id": "title",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "title",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "url",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "description",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "description",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "budget",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "budget",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "datePosted",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "datePosted",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "a996aa35-8f0d-4e1a-997b-4aadd402f65c",
      "name": "Log Jobs to Google Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        2640,
        800
      ],
      "typeVersion": 4.5,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "f0EK8GS1JVMgDnr2",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Provide a summary of the upwork jobs. It should be in email format\n\nTitle: {{ $json.title }}\nURL: {{ $json.url }}\nDescription:{{ $json.description }}\nBudget:{{ $json.budget }}\nDate posted: {{ $json.datePosted }}",
        "hasOutputParser": true,
        "options": {}
      },
      "id": "e0cd68e5-4d6d-479a-8a48-1faccc9f3ff7",
      "name": "Summarize Job Listings",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        2864,
        800
      ],
      "typeVersion": 1.9
    },
    {
      "parameters": {
        "sendTo": "shahkar.genai@gmail.com",
        "subject": "={{ $json.output.subject }}",
        "message": "={{ $json.output.Summary }}",
        "options": {}
      },
      "id": "30002e32-6046-4e5c-a27f-a0d58f380ae9",
      "name": "Send Job Summary Email",
      "type": "n8n-nodes-base.gmail",
      "position": [
        3408,
        800
      ],
      "webhookId": "6937d724-5ede-4c56-83fd-fde84496eabd",
      "typeVersion": 2.1,
      "credentials": {
        "gmailOAuth2": {
          "id": "PYWxtfY8Jt8O3raD",
          "name": "fausto@animistic"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "id": "a1fb5d66-b780-4b6b-96be-3391b6196301",
      "name": "OpenAI Job Summarizer",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        2800,
        1072
      ],
      "typeVersion": 1.2,
      "credentials": {
        "openAiApi": {
          "id": "WYRQt22D3Ej2FW2r",
          "name": "OpenAi Blue&"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"subject\": \"Upwork Job Opportunity: Webflow Expert Needed for Portfolio Website\",\n  \"Summary\": \"The client is seeking a designer with strong experience in Webflow to create a responsive and elegant portfolio site.\"\n}\n"
      },
      "id": "f79a7336-80fc-4832-862b-51d0d737d5a3",
      "name": "Parse Summary Output",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        3072,
        1072
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "content": "### üîÅ **Section 1: Job Fetch & Preparation**\n\nüì¶ **Group Name**: `üì• Fetch & Prepare Upwork Jobs`\n\n#### ‚úÖ **Included Nodes:**\n\n1. `üïí Daily Upwork Job Trigger`\n2. `üåê Fetch Upwork Jobs (Apify)`\n3. `üõ†Ô∏è Format Job Fields`\n\n#### üìã **What this group does:**\n\nThis group is responsible for automatically triggering the job search, pulling fresh job data from Upwork (via Apify), and formatting that data into a clean, structured format.\n\n#### üìå **Highlights:**\n\n* Uses Apify‚Äôs `run-sync-get-dataset-items` to ensure you get fresh job results in one go.\n* Ensures only the required fields (like title, URL, budget) are passed forward.\n* Keeps your data clean and minimal for logging and summarization.\n\n---",
        "height": 760,
        "width": 640,
        "color": 3
      },
      "id": "85465ead-0a06-455c-9308-866c092d8ef5",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1840,
        240
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "### üìä **Section 2: Data Logging & Summary Generation**\n\nüì¶ **Group Name**: `üßæ Log & Summarize Jobs`\n\n#### ‚úÖ **Included Nodes:**\n\n1. `üìà Log Jobs to Google Sheet`\n2. `ü§ñ Summarize Job Listings`\n\n   * `üß† OpenAI Job Summarizer`\n   * `üìÑ Parse Summary Output`\n\n#### üìã **What this group does:**\n\nThis group handles the dual responsibility of:\n\n* Persistently logging all job entries to a **Google Sheet**\n* Generating a human-friendly **natural language summary** of the fetched jobs using the OpenAI model and parsing the result into clean output\n\n#### üí° **Why this matters:**\n\n* Keeps historical records in Sheets ‚úÖ\n* Makes email digest more meaningful and less overwhelming for the reader üß†\n\n---\n\n",
        "height": 1040,
        "width": 620,
        "color": 5
      },
      "id": "3699ba73-75ee-4bf2-91eb-8d0d05143321",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2592,
        192
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## üì§ **Section 3: Job Summary Notification**\n\nüì¶ **Group Name**: `‚úâÔ∏è Notify via Email`\n\n#### ‚úÖ **Included Node:**\n\n1. `üìß Send Job Summary Email`\n\n#### üìã **What this group does:**\n\nSends a **summary email** to the desired recipient(s) with the content generated by the AI agent.\n\n",
        "height": 600,
        "width": 340,
        "color": 6
      },
      "id": "2289feb5-9ab1-4dbb-a77e-f4742f0f341d",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3312,
        384
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "=======================================\n            WORKFLOW ASSISTANCE\n=======================================\nFor any questions or support, please contact:\n    Yaron@nofluff.online\n\nExplore more tips and tutorials here:\n   - YouTube: https://www.youtube.com/@YaronBeen/videos\n   - LinkedIn: https://www.linkedin.com/in/yaronbeen/\n=======================================\n",
        "height": 320,
        "width": 1300,
        "color": 4
      },
      "id": "95727922-4856-4481-acff-519638ac5d23",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        384,
        240
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "# ‚úÖ n8n Automation: \"Upwork Job Aggregator & Notifier\"\n\n> **Purpose**: Automatically fetch job postings from Upwork with specific keywords, save them in Google Sheets, summarize them using AI, and email the results daily (or at any interval you want).\n\n---\n\n## üß± HIGH-LEVEL OVERVIEW\n\n| Feature         | Description                                          |\n| --------------- | ---------------------------------------------------- |\n| üïê Trigger      | Scheduled (e.g., every 6 hours)                      |\n| üåê Source       | [Apify](https://apify.com) actor for Upwork scraping |\n| üìÑ Storage      | Google Sheets                                        |\n| üß† Summary      | OpenAI model with structured output                  |\n| üì¨ Notification | Gmail with formatted job summary                     |\n\n---\n\n## üß† GROUP 1: üì• Fetch & Prepare Upwork Jobs\n\n### üü¢ Nodes:\n\n1. `üïí Daily Upwork Job Trigger`\n\n   * **Type**: Cron Trigger\n   * **Purpose**: Runs the flow automatically at your set interval (e.g., every 6 hours or daily)\n\n2. `üåê Fetch Upwork Jobs (Apify)`\n\n   * **Type**: HTTP Request\n   * **Method**: POST\n   * **URL**: `https://api.apify.com/v2/actor-tasks/<TASK_ID>/run-sync-get-dataset-items?token=<API_TOKEN>`\n   * **Purpose**: Calls your Apify Upwork Scraper task to get the latest job listings\n   * **Output**: JSON array of job objects\n\n3. `üõ†Ô∏è Format Job Fields`\n\n   * **Type**: Edit Fields (Set or Function Node)\n   * **Purpose**: Extracts needed job fields like `title`, `url`, `description`, `budget`, and `datePosted`\n   * **Reason**: Makes data uniform for Sheet storage and AI summary\n\n---\n\n## üìä GROUP 2: üßæ Log & Summarize Jobs\n\n### üü¢ Nodes:\n\n4. `üìà Log Jobs to Google Sheet`\n\n   * **Type**: Google Sheets ‚Üí Append Sheet\n   * **Sheet Setup**: Must have headers like `Title`, `URL`, `Description`, `Budget`, `Date`\n   * **Purpose**: Appends each new job as a row in the sheet for historical tracking\n\n5. `ü§ñ Summarize Job Listings` (AI Agent node group)\n\n   * **Type**: Tools Agent (LangChain / OpenAI Integration)\n   * **Connected Sub-Nodes**:\n\n     * `üß† OpenAI Job Summarizer` (OpenAI Chat Model)\n\n       * **Prompt** example:\n\n         ```\n         You are an assistant summarizing freelance job postings. Summarize each job in 1-2 lines. Include title, budget, and a short description.\n         ```\n     * `üìÑ Parse Summary Output` (Structured Output Parser)\n\n       * **Purpose**: Converts the AI response into structured n8n items\n   * **Input**: Job data from Google Sheets\n   * **Output**: A clear, natural language summary of all jobs\n\n---\n\n## üì§ GROUP 3: ‚úâÔ∏è Notify via Email\n\n### üü¢ Node:\n\n6. `üìß Send Job Summary Email`\n\n   * **Type**: Gmail ‚Üí Send Message\n\n   * **Authentication**: Google OAuth2\n\n   * **To**: Yourself or your team\n\n   * **Subject**: `\"üöÄ New Upwork Jobs Found!\"`\n\n   * **Body**:\n\n     ```\n     Hello,\n\n     Here‚Äôs a summary of the latest Upwork jobs matching your criteria:\n\n     {{summary from AI}}\n\n     ‚ûï View full job list here: [Google Sheet Link]\n\n     Best,  \n     Your Automation Bot ü§ñ\n     ```\n\n   * **Error Handling**: Add an IF node to prevent email if no jobs were returned (optional)\n\n---\n\n## üóÇ Suggested Color-Coded Groups in n8n:\n\n| Group                          | Nodes                                | Color     | Description                     |\n| ------------------------------ | ------------------------------------ | --------- | ------------------------------- |\n| üì• Fetch & Prepare Upwork Jobs | Trigger, HTTP Request, Format Fields | üü¢ Green  | Gets data and prepares it       |\n| üßæ Log & Summarize Jobs        | Google Sheets, AI Agent, Parser      | üü° Yellow | Logs + creates smart summaries  |\n| ‚úâÔ∏è Notify via Email            | Gmail                                | üî¥ Red    | Notifies you with clean summary |\n\n---\n\n## üöÄ ADVANTAGES\n\n‚úÖ Completely automated\n‚úÖ Saves all job history\n‚úÖ AI-enhanced summaries\n‚úÖ Instant email alerts\n‚úÖ Easy to expand or customize\n\n---\n\n## üß© Bonus Enhancements (Optional)\n\n| Idea                      | Description                                                   |\n| ------------------------- | ------------------------------------------------------------- |\n| üîç Add keyword filters    | Add filters before saving to Sheets (e.g., only ‚ÄúReact‚Äù jobs) |\n| üïµÔ∏è‚Äç‚ôÇÔ∏è Prevent duplicates | Store job IDs and check before saving                         |\n| üì£ Add Slack alerts       | Add Slack node for team notification                          |\n| üìä Dashboard              | Build Google Data Studio report over the Sheet                |\n\n---\n\n\n",
        "height": 3058,
        "width": 1289,
        "color": 4
      },
      "id": "c161b105-70a6-431a-91e2-9031ccba8fe4",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        384,
        592
      ],
      "typeVersion": 1
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        1904,
        1008
      ],
      "id": "1ef85607-fdf9-4a8c-9c4a-cfaea28827b8",
      "name": "When clicking ‚ÄòExecute workflow‚Äô"
    }
  ],
  "pinData": {},
  "settings": {},
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-08-08T16:38:59.000Z",
  "versionId": "0e83b46f-700b-4207-a629-510a4e6dc018"
}